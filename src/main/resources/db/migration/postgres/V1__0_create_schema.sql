CREATE SCHEMA IF NOT EXISTS spaceshipmanager;

--

CREATE TABLE IF NOT EXISTS spaceshipmanager.planet
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    width INT NOT NULL,
    height INT NOT NULL,
    CONSTRAINT host_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS spaceshipmanager.spaceship
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
	direction INT NOT NULL,
	x INT NOT NULL,
	y INT NOT NULL,
	planet_id bigint NOT NULL,
	CONSTRAINT spaceship_pkey PRIMARY KEY (id),
    CONSTRAINT planet_id_fk FOREIGN KEY (planet_id)
        REFERENCES spaceshipmanager.planet (id) MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
);
